<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
        "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cartMapper">

    <resultMap type="Cart" id="resultCart">
        <id property="cart_id" column="cart_id" />
        <result property="user_email" column="user_email" />
        <result property="user_name" column="user_name" />
        <result property="product_seq_id" column="product_seq_id" />
        <result property="product_name" column="product_name" />
        <result property="product_discount" column="product_discount" />
        <result property="price" column="price" />
        <result property="number" column="number" />
        <result property="amount" column="amount" />
    </resultMap>

    <!-- 카트 목록 -->
    <select id="getCartList" parameterType="String" resultType="Cart">
        SELECT * FROM cart WHERE user_email = #{user_email}
    </select>

    <!-- 카트 추가 -->
    <insert id="addToCart" parameterType="Cart">
        INSERT INTO cart (user_email, user_name, product_seq_id, product_name, product_discount, price, number, amount)
        VALUES (#{user_email}, #{user_name}, #{product_seq_id}, #{product_name}, #{product_discount}, #{price}, #{number}, #{amount})
    </insert>

    <!-- 카드 수정 -->
    <update id="updateCartItem" parameterType="Cart">
        UPDATE cart SET number = #{number} WHERE cart_id = #{cart_id}
    </update>


    <!-- 카트 삭제 -->
    <delete id="removeCartItem" parameterType="int">
        DELETE FROM cart WHERE cart_id = #{cart_id}
    </delete>

</mapper>